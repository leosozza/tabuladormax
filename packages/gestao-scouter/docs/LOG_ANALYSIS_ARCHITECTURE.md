# Log Analysis System Architecture

## System Overview

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     INPUT SOURCES                                â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Malformed JSON Files                                          â”‚
â”‚  â€¢ Edge Function Logs                                            â”‚
â”‚  â€¢ Supabase sync_logs_detailed                                   â”‚
â”‚  â€¢ Manual Input (CLI)                                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LOG VALIDATOR                                 â”‚
â”‚              (src/utils/logValidator.ts)                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ 1. Try parse raw JSON                                â”‚        â”‚
â”‚  â”‚    â”œâ”€ Success â†’ Validate                            â”‚        â”‚
â”‚  â”‚    â””â”€ Fail â†’ Repair                                 â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 2. Repair JSON                                       â”‚        â”‚
â”‚  â”‚    â”œâ”€ Fix missing braces {}                         â”‚        â”‚
â”‚  â”‚    â”œâ”€ Fix missing commas                            â”‚        â”‚
â”‚  â”‚    â”œâ”€ Extract individual objects                    â”‚        â”‚
â”‚  â”‚    â””â”€ Remove garbage                                â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 3. Normalize Fields                                 â”‚        â”‚
â”‚  â”‚    â”œâ”€ "carimbo de data/hora" â†’ "timestamp"         â”‚        â”‚
â”‚  â”‚    â”œâ”€ Log levels: ERRO â†’ ERROR                     â”‚        â”‚
â”‚  â”‚    â””â”€ Timestamps: microseconds â†’ ISO               â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 4. Validate with Zod                                â”‚        â”‚
â”‚  â”‚    â”œâ”€ Schema validation                             â”‚        â”‚
â”‚  â”‚    â”œâ”€ Type checking                                 â”‚        â”‚
â”‚  â”‚    â””â”€ Required fields                               â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    LOG ANALYZER                                  â”‚
â”‚              (src/utils/logAnalyzer.ts)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ 1. Summary Statistics                                â”‚        â”‚
â”‚  â”‚    â”œâ”€ Count by level (ERROR, WARN, INFO)           â”‚        â”‚
â”‚  â”‚    â”œâ”€ Time range analysis                           â”‚        â”‚
â”‚  â”‚    â””â”€ Total log count                               â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 2. Critical Issue Detection                         â”‚        â”‚
â”‚  â”‚    â”œâ”€ RLS Policy Violations                         â”‚        â”‚
â”‚  â”‚    â”‚  â””â”€ "polÃ­tica de seguranÃ§a" pattern           â”‚        â”‚
â”‚  â”‚    â”œâ”€ Shutdown Events                               â”‚        â”‚
â”‚  â”‚    â”‚  â””â”€ "desligamento" pattern                    â”‚        â”‚
â”‚  â”‚    â””â”€ Unknown Errors                                â”‚        â”‚
â”‚  â”‚       â””â”€ Generic ERROR level logs                  â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 3. Pattern Recognition                              â”‚        â”‚
â”‚  â”‚    â”œâ”€ Group errors by message                       â”‚        â”‚
â”‚  â”‚    â”œâ”€ Identify recurring patterns                   â”‚        â”‚
â”‚  â”‚    â”œâ”€ Calculate trend (â†— â†˜ â†’)                      â”‚        â”‚
â”‚  â”‚    â””â”€ Frequency analysis                            â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 4. Performance Analysis                             â”‚        â”‚
â”‚  â”‚    â”œâ”€ Error rate calculation                        â”‚        â”‚
â”‚  â”‚    â”œâ”€ Categorize severity                           â”‚        â”‚
â”‚  â”‚    â””â”€ Metrics collection                            â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 5. Health Score Calculation                         â”‚        â”‚
â”‚  â”‚    Base: 100                                         â”‚        â”‚
â”‚  â”‚    - Critical issues Ã— 30                           â”‚        â”‚
â”‚  â”‚    - Warnings Ã— 10                                  â”‚        â”‚
â”‚  â”‚    - Recurring patterns Ã— 5                         â”‚        â”‚
â”‚  â”‚    - Error rate (max 40)                            â”‚        â”‚
â”‚  â”‚    Final: max(0, min(100, score))                  â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ 6. Recommendation Engine                            â”‚        â”‚
â”‚  â”‚    â”œâ”€ RLS fix â†’ SQL statements                     â”‚        â”‚
â”‚  â”‚    â”œâ”€ Error patterns â†’ Investigation tips          â”‚        â”‚
â”‚  â”‚    â””â”€ Health improvement â†’ Action items            â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                 â”‚                â”‚
        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â–¼â”€â”€â”€â”€â”€â”€â”
        â”‚              â”‚  â”‚              â”‚
        â–¼              â–¼  â–¼              â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â” â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚              â”‚ â”‚   NOTIFICATION SYSTEM    â”‚
â”‚   REPORT     â”‚ â”‚  (src/utils/logNotifier.ts) â”‚
â”‚  GENERATOR   â”‚ â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚              â”‚ â”‚ â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚
â”‚              â”‚ â”‚ â”‚ 1. Filter Logs    â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â”œâ”€ By level    â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â”œâ”€ By message  â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â””â”€ By exclude  â”‚   â”‚
â”‚              â”‚ â”‚ â”‚                    â”‚   â”‚
â”‚              â”‚ â”‚ â”‚ 2. Rate Limiting  â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â”œâ”€ Cooldown    â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â””â”€ Hourly max  â”‚   â”‚
â”‚              â”‚ â”‚ â”‚                    â”‚   â”‚
â”‚              â”‚ â”‚ â”‚ 3. Channels       â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â”œâ”€ Console     â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â”œâ”€ Toast       â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â”œâ”€ Webhook     â”‚   â”‚
â”‚              â”‚ â”‚ â”‚    â””â”€ Email       â”‚   â”‚
â”‚              â”‚ â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚
â”‚              â”‚ â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚              â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    REPORT GENERATOR                              â”‚
â”‚              (src/utils/logReporter.ts)                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”        â”‚
â”‚  â”‚ Format Selection                                     â”‚        â”‚
â”‚  â”‚    â”œâ”€ JSON (machine-readable)                       â”‚        â”‚
â”‚  â”‚    â”œâ”€ Markdown (documentation)                      â”‚        â”‚
â”‚  â”‚    â”œâ”€ HTML (interactive report)                     â”‚        â”‚
â”‚  â”‚    â””â”€ Text (console/logs)                           â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ Report Components                                    â”‚        â”‚
â”‚  â”‚    â”œâ”€ Header (timestamp, time range)                â”‚        â”‚
â”‚  â”‚    â”œâ”€ Health Score (color-coded)                    â”‚        â”‚
â”‚  â”‚    â”œâ”€ Summary Table (metrics)                       â”‚        â”‚
â”‚  â”‚    â”œâ”€ Critical Issues (with fixes)                  â”‚        â”‚
â”‚  â”‚    â”œâ”€ Warnings                                       â”‚        â”‚
â”‚  â”‚    â”œâ”€ Recurring Patterns                            â”‚        â”‚
â”‚  â”‚    â”œâ”€ Performance Issues                            â”‚        â”‚
â”‚  â”‚    â”œâ”€ Recommendations                               â”‚        â”‚
â”‚  â”‚    â”œâ”€ Metrics (optional)                            â”‚        â”‚
â”‚  â”‚    â””â”€ Raw Logs (optional)                           â”‚        â”‚
â”‚  â”‚                                                       â”‚        â”‚
â”‚  â”‚ Export Options                                       â”‚        â”‚
â”‚  â”‚    â”œâ”€ Download as file                              â”‚        â”‚
â”‚  â”‚    â”œâ”€ Copy to clipboard                             â”‚        â”‚
â”‚  â”‚    â””â”€ Send via API                                  â”‚        â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜        â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â”‚
                          â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                         OUTPUTS                                  â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Console Output (colored, formatted)                           â”‚
â”‚  â€¢ Markdown Reports (for docs)                                   â”‚
â”‚  â€¢ HTML Reports (interactive, styled)                            â”‚
â”‚  â€¢ JSON Data (for APIs, integrations)                            â”‚
â”‚  â€¢ Notifications (toast, webhook, email)                         â”‚
â”‚  â€¢ File Downloads (.md, .html, .json, .txt)                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Data Flow Example

### Input: Malformed JSON
```json
{
  "event_message": "nova linha viola a polÃ­tica de seguranÃ§a...",
  "id": "642d80d6...",
  "log_level": "ERRO",
{
  "event_message": "desligamento",
  "carimbo de data/hora": 1760977744435000
}
```

### Step 1: Validator Output
```typescript
{
  isValid: true,
  logs: [
    {
      event_message: "nova linha viola a polÃ­tica de seguranÃ§a...",
      id: "642d80d6...",
      log_level: "ERRO",
      timestamp: 1760977552196000,
      log_level_normalized: "ERROR"
    },
    {
      event_message: "desligamento",
      timestamp: 1760977744435000,
      log_level_normalized: "LOG"
    }
  ],
  warnings: ["Initial JSON parsing failed, attempting repair..."],
  errors: []
}
```

### Step 2: Analyzer Output
```typescript
{
  summary: {
    totalLogs: 2,
    errorCount: 1,
    warnCount: 0,
    infoCount: 1
  },
  issues: {
    critical: [
      {
        id: "rls-violation",
        type: "RLS_POLICY_VIOLATION",
        message: "Row-Level Security policy violation...",
        count: 1,
        recommendation: "CREATE POLICY \"service_role_all\"..."
      }
    ]
  },
  healthScore: 26.67
}
```

### Step 3: Notification Output
```typescript
[
  {
    id: "rls-violation-1760977...",
    severity: "critical",
    title: "RLS Policy Violation Detected",
    message: "1 log(s) failed due to RLS violations...",
    channel: "console"
  },
  {
    id: "health-critical-1760977...",
    severity: "critical",
    title: "System Health Critical",
    message: "Health score: 26.67/100",
    channel: "toast"
  }
]
```

### Step 4: Report Output (Markdown)
````markdown
# Sync Log Analysis Report

**Generated:** 10/20/2025, 4:45:32 PM

## ğŸ”´ Health Score: 26/100

## ğŸ“Š Summary

| Metric | Count |
|--------|-------|
| Total Logs | 2 |
| âŒ Errors | 1 |

## ğŸ”´ Critical Issues

### 1. RLS_POLICY_VIOLATION

**Message:** Row-Level Security policy violation...

**Recommendation:**
```sql
CREATE POLICY "service_role_all" 
ON sync_logs_detailed 
FOR ALL TO service_role USING (true);
```
````

## Component Interactions

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   CLI Tool  â”‚
â”‚ analyzeLogs â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚
       â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚
       â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Validator  â”‚   â”‚   Analyzer  â”‚
â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”¬â”€â”€â”€â”€â”€â”€â”˜
       â”‚                 â”‚
       â”‚                 â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
       â”‚                 â”‚                 â”‚
       â–¼                 â–¼                 â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚   Notifier  â”‚   â”‚   Reporter  â”‚   â”‚  Dashboard  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Integration Points

### 1. Sync Repository
```typescript
src/repositories/syncLogsRepo.ts
  â†“ uses
src/utils/logAnalyzer.ts
  â†“ triggers
src/utils/logNotifier.ts
```

### 2. Dashboard Component
```typescript
src/components/sync/LogAnalysisDashboard.tsx
  â†“ fetches
src/repositories/syncLogsRepo.ts
  â†“ analyzes
src/utils/logAnalyzer.ts
  â†“ displays
Health Score, Issues, Recommendations
```

### 3. Edge Functions
```typescript
supabase/functions/diagnose-tabulador-sync/index.ts
  â†“ generates logs
Malformed JSON
  â†“ validates
src/utils/logValidator.ts
  â†“ normalizes
Valid JSON for storage
```

## Technology Stack

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Frontend                            â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ React 18 (UI components)                              â”‚
â”‚  â€¢ TypeScript 5.8 (type safety)                          â”‚
â”‚  â€¢ Zod 3.25 (schema validation)                          â”‚
â”‚  â€¢ date-fns 3.6 (date handling)                          â”‚
â”‚  â€¢ Sonner (toast notifications)                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Backend                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Node.js (CLI tool)                                    â”‚
â”‚  â€¢ tsx (TypeScript execution)                            â”‚
â”‚  â€¢ Supabase Edge Functions (Deno runtime)                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                     Database                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Supabase PostgreSQL                                   â”‚
â”‚  â€¢ sync_logs_detailed table                              â”‚
â”‚  â€¢ RLS policies                                          â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Security Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Input Validation                        â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  1. Zod Schema Validation                                â”‚
â”‚     â”œâ”€ Type checking                                     â”‚
â”‚     â”œâ”€ Required fields                                   â”‚
â”‚     â””â”€ Format validation                                 â”‚
â”‚                                                           â”‚
â”‚  2. Sanitization                                         â”‚
â”‚     â”œâ”€ Remove dangerous characters                       â”‚
â”‚     â”œâ”€ Limit string lengths                              â”‚
â”‚     â””â”€ Escape HTML in reports                            â”‚
â”‚                                                           â”‚
â”‚  3. Error Handling                                       â”‚
â”‚     â”œâ”€ Try-catch blocks                                  â”‚
â”‚     â”œâ”€ Graceful degradation                              â”‚
â”‚     â””â”€ User-friendly error messages                      â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Rate Limiting                           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Notification cooldown (5 min default)                 â”‚
â”‚  â€¢ Hourly limits (10 per hour default)                   â”‚
â”‚  â€¢ Prevents DoS on notification channels                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Authentication                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Webhook authentication (future)                       â”‚
â”‚  â€¢ Service role key validation                           â”‚
â”‚  â€¢ RLS policy enforcement                                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Performance Characteristics

### Time Complexity

| Operation | Complexity | Notes |
|-----------|-----------|-------|
| JSON Repair | O(n) | Linear scan of input |
| Validation | O(n) | Per log entry |
| Analysis | O(n) | Single pass through logs |
| Pattern Detection | O(n log n) | Grouping and sorting |
| Report Generation | O(n) | Template rendering |

### Space Complexity

| Operation | Complexity | Notes |
|-----------|-----------|-------|
| Log Storage | O(n) | In-memory array |
| Pattern Groups | O(n) | Map of patterns |
| Notification History | O(1) | Fixed size map |
| Report Buffer | O(n) | Output string |

### Scalability Limits

| Metric | Limit | Recommendation |
|--------|-------|----------------|
| Max Logs per Analysis | 1,000 | Batch processing |
| Max JSON Size | 10 MB | Stream processing |
| Max Report Size | 50 MB | Pagination |
| Max Notifications/Hour | 100 | Rate limiting |

## Error Handling Strategy

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Error Hierarchy                         â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  Level 1: Validation Errors                              â”‚
â”‚    â”œâ”€ JSON parsing failures â†’ Repair attempt            â”‚
â”‚    â”œâ”€ Schema validation errors â†’ Skip log               â”‚
â”‚    â””â”€ Type conversion errors â†’ Default values           â”‚
â”‚                                                           â”‚
â”‚  Level 2: Analysis Errors                               â”‚
â”‚    â”œâ”€ Empty log set â†’ Warning message                   â”‚
â”‚    â”œâ”€ Invalid timestamps â†’ Use current time             â”‚
â”‚    â””â”€ Missing fields â†’ Graceful degradation             â”‚
â”‚                                                           â”‚
â”‚  Level 3: Notification Errors                           â”‚
â”‚    â”œâ”€ Channel unavailable â†’ Try next channel            â”‚
â”‚    â”œâ”€ Rate limit exceeded â†’ Queue for later             â”‚
â”‚    â””â”€ Network errors â†’ Retry with backoff               â”‚
â”‚                                                           â”‚
â”‚  Level 4: Report Errors                                 â”‚
â”‚    â”œâ”€ Template errors â†’ Use plain text fallback         â”‚
â”‚    â”œâ”€ Export errors â†’ Return in-memory content          â”‚
â”‚    â””â”€ Format errors â†’ Use JSON fallback                 â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Deployment Architecture

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                  Development                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Local TypeScript development                          â”‚
â”‚  â€¢ Hot reload with Vite                                  â”‚
â”‚  â€¢ CLI testing with tsx                                  â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Build Process                          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ TypeScript compilation                                â”‚
â”‚  â€¢ Type checking                                         â”‚
â”‚  â€¢ Security scanning (CodeQL)                            â”‚
â”‚  â€¢ Bundle optimization                                   â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                          â†“
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                   Production                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Static assets on CDN                                  â”‚
â”‚  â€¢ Edge Functions on Supabase                            â”‚
â”‚  â€¢ CLI tool via npm scripts                              â”‚
â”‚  â€¢ Integrated in React dashboard                         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Monitoring & Observability

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Metrics                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Health score over time                                â”‚
â”‚  â€¢ Error rate trends                                     â”‚
â”‚  â€¢ Notification frequency                                â”‚
â”‚  â€¢ Report generation time                                â”‚
â”‚  â€¢ JSON repair success rate                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Logging                             â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Console logs (development)                            â”‚
â”‚  â€¢ Supabase logs (production)                            â”‚
â”‚  â€¢ Notification history                                  â”‚
â”‚  â€¢ Error stack traces                                    â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜

â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                      Alerts                              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚  â€¢ Critical issues (immediate)                           â”‚
â”‚  â€¢ Health score drops (< 50)                             â”‚
â”‚  â€¢ High error rates (> 50%)                              â”‚
â”‚  â€¢ RLS violations (immediate)                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Future Architecture Enhancements

### Phase 1: Real-time Monitoring
```
Edge Functions â†’ WebSocket â†’ React Dashboard
                    â†“
            Live Health Score
            Live Error Stream
            Live Notifications
```

### Phase 2: Machine Learning
```
Historical Logs â†’ ML Model â†’ Pattern Prediction
                      â†“
              Anomaly Detection
              Predictive Alerts
              Auto-remediation
```

### Phase 3: Distributed Architecture
```
Multiple Sources â†’ Log Aggregator â†’ Central Analysis
                         â†“
                  Distributed Reports
                  Multi-tenant Support
                  SLA Monitoring
```

## Conclusion

This architecture provides a robust, scalable, and maintainable solution for log analysis in the GestÃ£o Scouter system. The modular design allows for easy extension and integration with existing components while maintaining security and performance standards.
